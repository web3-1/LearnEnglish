@using TurtleEnglish.Models;
@using TurtleEnglish.Controllers;
@model AdminHomePageController

@{
    ViewBag.Title = "feedbackManagement";
    Layout = "~/Views/Shared/TurtleEnglish_adminLayoutPage.cshtml";
}

<script src="~/Style/Popup Style/jquery-1.10.2.min.js"></script>
@*<link href="~/Style/Popup Style/bootstrap.min.css" rel="stylesheet" />
    <script src="~/Style/Popup Style/bootstrap.min.js"></script>*@

<div class="right_col" role="main">
    <div class="">
        <div class="page-title">
            <div class="title_left">
                <h3>Feedback Topic Management</h3>
            </div>
            <div class="title_right">
                <div class="col-md-5 col-sm-5 col-xs-12 form-group pull-right top_search">
                    <div class="input-group">
                        <input type="text" class="form-control" placeholder="Search for...">
                        <span class="input-group-btn">
                            <button class="btn btn-default" type="button">Go!</button>
                        </span>
                    </div>
                </div>
            </div>
        </div>

        <div class="clearfix"></div>
        <div class="row">
            <div class="col-md-12" style="padding-left: 150px; padding-right: 150px;">
                <div class="x_panel">
                    <div class="x_title">
                        <h2 style="width: 80%;">Feedback Topic List</h2>
                        <a href="@Url.Action("feedbackAdd", "AdminHomePage")" class="btn btn-info" style="background: #EA9415;border: #EA9415;"><i class="fa fa-plus-square"></i> Add </a>
                        @*<a href="#" class="btn btn-info" data-toggle="modal" data-target="#myModal" style="background: #EA9415;border: #EA9415;"><i class="fa fa-plus-square"></i> Add </a>
                            <div class="modal fade" id="myModal">
                                <div class="modal-dialog">
                                    <div class="modal-content">
                                        <div class="modal-header">
                                            <a href="#" class="close" data-dismiss="modal">&times;</a>
                                            <h3 class="modal-title">Add New Topic</h3>

                                        </div>

                                        <div class="modal-body">
                                            <form id="myForm">
                                                @Html.TextBoxFor(model => model.topic, new { @class = "form-control", @placeholder = "Topic Name" })
                                            </form>
                                            <div style="text-align:center;display:none" id="loaderDiv">
                                                <img src="~/Style/Popup Style/InternetSlowdown_Day.gif" width="150" />
                                            </div>
                                        </div>

                                        <div class="modal-footer">
                                            <a href="#" class="btn btn-default" data-dismiss="modal">Cancel</a>
                                            <input type="reset" value="Submit" id="btnSubmit" class="btn btn-success"/>
                                        </div>
                                    </div>
                                </div>
                            </div>*@
                        <ul class="nav navbar-right panel_toolbox">
                            <li>
                                <a class="collapse-link"><i class="fa fa-chevron-up"></i></a>
                            </li>

                            <li>
                                <a class="close-link"><i class="fa fa-close"></i></a>
                            </li>
                        </ul>
                        <div class="clearfix"></div>
                    </div>
                    <div class="x_content">
                        <!-- start project list -->
                        <table class="table table-striped projects">
                            <thead>
                                <tr>
                                    <th style="width: 10%">#</th>
                                    <th style="width: auto">Topic feedback</th>
                                    <th style="width: 20%">#Edit</th>
                                </tr>
                            </thead>
                            <tbody>
                                @foreach (var item in Model.topic)
                                {
                                    <tr>
                                        <td>#</td>
                                        <td>
                                            <a>@item.topic</a>
                                        </td>
                                        <td>
                                            @using (Html.BeginForm("DeleteTopic", "AdminHomePage", new { stt = item.stt }))
                                            {
                                                <a href="@Url.Action("feedbackEdit", "AdminHomePage", new { stt = item.stt  })" class="btn btn-info btn-xs"><i class="fa fa-pencil"></i> Edit </a>
                                                <button type="submit" onclick="return confirm('Are you want to remove topic: @item.topic?');" class="btn btn-danger btn-xs"><i class="fa fa-trash-o"></i> Delete </button>
                                            }
                                        </td>
                                    </tr>

                                }
                            </tbody>
                        </table>
                        <!-- end project list -->
                    </div>
                </div>
            </div>
        </div>
    </div>
    <div class="">
        <div class="page-title">
            <div class="title_left">
                <h3>User's Feedback</h3>
            </div>
            <div class="title_right">
                <div class="col-md-5 col-sm-5 col-xs-12 form-group pull-right top_search">
                    <div class="input-group">
                        <input type="text" class="form-control" placeholder="Search for...">
                        <span class="input-group-btn">
                            <button class="btn btn-default" type="button">Go!</button>
                        </span>
                    </div>
                </div>
            </div>
        </div>

        <div class="clearfix"></div>
        <div class="row">
            <div class="col-md-12">
                <div class="x_panel">
                    <div class="x_title">
                        <h2>User's Feedback</h2>
                        <ul class="nav navbar-right panel_toolbox">
                            <li>
                                <a class="collapse-link"><i class="fa fa-chevron-up"></i></a>
                            </li>

                            <li>
                                <a class="close-link"><i class="fa fa-close"></i></a>
                            </li>
                        </ul>
                        <div class="clearfix"></div>
                    </div>
                    <div class="x_content">
                        <!-- start project list -->
                        <table class="table table-striped projects">
                            <thead>
                                <tr>
                                    <th style="width: 1%">#</th>
                                    <th style="width: 10%">Date</th>
                                    <th>Email</th>
                                    <th>Feedback Topic</th>
                                    <th>Feedback Detail</th>
                                    <th>Status</th>
                                    <th style="width: 15%">#Edit</th>
                                </tr>
                            </thead>
                            <tbody>
                                @foreach (var item in Model.cmt)
                                {
                                    <tr>
                                        <td>@item.stt.ToString()</td>
                                        <td>
                                            <a>@item.dateComment.Value.ToString("dd/MM/yyyy")</a>
                                        </td>
                                        <td>
                                            <a>@item.email</a>
                                        </td>
                                        <td>
                                            <a>@item.topic</a>
                                        </td>
                                        <td>
                                            <a>@item.comment</a>
                                        </td>
                                        @if (item.statusCmt == true)
                                        {
                                            <td>
                                                <button type="button" class="btn btn-success btn-xs" style="cursor: not-allowed;">Read</button>
                                            </td>
                                        }
                                        else
                                        {
                                            <td>
                                                <button type="button" class="btn btn-success btn-xs" style="cursor: not-allowed;background-color: mediumslateblue;border-color: mediumslateblue;">Unread</button>
                                            </td>
                                        }
                                        <td>
                                            @using (Html.BeginForm("DeleteComment", "AdminHomePage", new { stt = item.stt }))
                                            {
                                                <a href="@Url.Action("commentEdit", "AdminHomePage", new { stt = item.stt  })" class="btn btn-info btn-xs"><i class="fa fa-pencil"></i> Edit </a>
                                                <button type="submit" onclick="return confirm('Are you want to remove comment: @item.stt?');" class="btn btn-danger btn-xs"><i class="fa fa-trash-o"></i> Delete </button>
                                            }
                                        </td>
                                    </tr>
                                }
                            </tbody>
                        </table>
                        <!-- end project list -->
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

@*<script>

        $(document).ready(function () {


            $("#btnSubmit").click(function () {

                $("#loaderDiv").show();

                var myformdata = $("#myForm").serialize();

                $.ajax({

                    type: "POST",
                    url:"/AdminHomePage/feedbackManagement",
                    data: myformdata,
                    success: function () {
                        $("#loaderDiv").hide();
                        $("#myModal").modal("hide");

                    }

                })
            })

        })


    </script>*@

